<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ Sistema de Rotaciones ğŸ</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ</text></svg>">
    <link rel="stylesheet" href="styles.css?v=2025102029">
</head>
<body>
    <!-- Contenedor para notificaciones -->
    <div id="notifications-container" style="position: fixed; top: 20px; right: 20px; z-index: 10000;"></div>

    <!-- Indicador de sincronizaciÃ³n MongoDB -->
    <div id="sync-indicator" style="position: fixed; bottom: 20px; right: 20px; z-index: 10000; background: #28a745; color: white; padding: 8px 12px; border-radius: 20px; font-size: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); display: none;">
        â˜ï¸ Sincronizado
    </div>

    <!-- Loading inicial -->
    <div id="loading-screen" style="text-align: center; padding: 50px; font-family: Arial, sans-serif;">
        <h2>ğŸ”„ Cargando aplicaciÃ³n...</h2>
        <p>Verificando autenticaciÃ³n...</p>
    </div>

    <!-- Pantalla de acceso denegado -->
    <div id="access-denied" style="display: none; text-align: center; padding: 50px; font-family: Arial, sans-serif; background: #f8d7da; color: #721c24;">
        <h2>ğŸš« Acceso Denegado</h2>
        <p>Tu sesiÃ³n ha expirado o no tienes permisos.</p>
        <button onclick="window.location.href='login.html'" 
                style="padding: 12px 24px; font-size: 16px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">
            ğŸ” Ir a Login
        </button>
    </div>

    <!-- Banner de jornada pendiente -->
    <div id="bannerJornadaPendiente" class="banner-jornada-pendiente" style="display: none;">
        <div class="banner-content">
            <div class="banner-info">
                <span class="banner-icon">ğŸ“</span>
                <span class="banner-texto"></span>
            </div>
            <div class="banner-actions">
                <button id="continuarPlanificando" class="btn-continuar">âœï¸ Continuar Editando</button>
                <button id="eliminarBorrador" class="btn-eliminar">ğŸ—‘ï¸ Eliminar</button>
                <button id="cerrarBanner" class="btn-cerrar">âœ•</button>
            </div>
        </div>
    </div>

    <!-- Modal Setup (OCULTO) -->
    <div id="setupInicial" class="setup-modal" style="display: none !important;">
        <!-- Contenido del setup modal oculto -->
    </div>

    <!-- AplicaciÃ³n Principal -->
    <div class="container" id="mainApp" style="display: none;">
        <div class="header">
            <h1>ğŸ Sistema de Rotaciones</h1>
            <div class="user-info" style="position: absolute; top: 20px; right: 20px; background: #f8f9fa; padding: 10px; border-radius: 8px; font-size: 14px;">
                <span id="current-user">Cargando...</span>
                <button onclick="logout()" style="margin-left: 10px; padding: 5px 10px; background: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer;">
                    ğŸšª Logout
                </button>
            </div>
            <div class="tabs">
                <button class="tab-button active" data-tab="jornadas">ğŸ“… Jornadas</button>
                <button class="tab-button" data-tab="jugadoras">ğŸ‘¥ Equipo</button>
                <button class="tab-button" data-tab="historial">ğŸ“Š Historial</button>
                <button class="tab-button" data-tab="admin" id="admin-tab" style="display: none;">âš™ï¸ Admin</button>
            </div>
        </div>

        <!-- Contenido de Jornadas -->
        <div id="jornadas" class="tab-content active">
            <div id="jornada-nueva">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h3 style="margin: 0;">Nueva Jornada</h3>
                    <button id="btnGestionarDatos" class="btn-gestionar-datos">âš™ï¸ Gestionar Ubicaciones/Rivales</button>
                </div>
                <div class="jornada-config">
                    <input type="date" id="fechaJornada">
                    
                    <div class="campo-grupo">
                        <label for="ubicacionPartido">UbicaciÃ³n del partido:</label>
                        <div class="input-autocomplete">
                            <input type="text" id="ubicacionPartido" list="ubicacionesList" placeholder="Ej: Mariano Benlliure, Collado Villalba">
                            <datalist id="ubicacionesList">
                                <!-- Se llenarÃ¡ dinÃ¡micamente -->
                            </datalist>
                        </div>
                        <div class="tipo-ubicacion">
                            <label>
                                <input type="radio" name="tipoUbicacion" value="casa" checked> Casa
                            </label>
                            <label>
                                <input type="radio" name="tipoUbicacion" value="fuera"> Fuera
                            </label>
                        </div>
                    </div>

                    <div class="campo-grupo">
                        <label for="equipoRival">Equipo rival:</label>
                        <input type="text" id="equipoRival" list="rivalesList" placeholder="Ej: Colmenarejo A">
                        <datalist id="rivalesList">
                            <!-- Se llenarÃ¡ dinÃ¡micamente -->
                        </datalist>
                    </div>
                    
                    <button id="crearJornada" class="btn-crear">+ Crear Jornada</button>
                </div>
            </div>

            <div id="jornadaActual" class="jornada-container" style="display: none;">
                <div class="jornada-header">
                    <h3 id="tituloJornada">Jornada: Semana del [fecha]</h3>
                    <div class="jornada-controles">
                        <div class="jornada-progreso">
                            <span id="progresoJornada">Paso 1 de 3</span>
                        </div>
                        <div class="navegacion-rapida">
                            <button id="irLunes" class="btn-nav active" onclick="app.irAPaso('lunes')">Lunes</button>
                            <button id="irMiercoles" class="btn-nav" onclick="app.irAPaso('miercoles')">MiÃ©rcoles</button>
                            <button id="irSabado" class="btn-nav" onclick="app.irAPaso('sabado')">SÃ¡bado</button>
                            <button id="volverInicio" class="btn-volver" onclick="app.volverAInicioJornada()">ğŸ”„ Nueva Jornada</button>
                        </div>
                    </div>
                </div>

                <!-- Paso 1: Entrenamiento Lunes -->
                <div id="pasoLunes" class="jornada-paso active">
                    <div class="paso-header">
                        <h4 id="tituloLunes">ğŸ“… Entrenamiento Lunes</h4>
                        <p>Selecciona quiÃ©nes asistieron al entrenamiento</p>
                    </div>
                    <div class="jugadoras-grid" id="asistenciaLunesGrid"></div>
                    <div class="paso-actions">
                        <button id="siguienteLunes" class="btn-siguiente">Continuar a MiÃ©rcoles</button>
                    </div>
                </div>

                <!-- Paso 2: Entrenamiento MiÃ©rcoles -->
                <div id="pasoMiercoles" class="jornada-paso">
                    <div class="paso-header">
                        <h4 id="tituloMiercoles">ğŸ“… Entrenamiento MiÃ©rcoles</h4>
                        <p>Selecciona quiÃ©nes asistieron al entrenamiento</p>
                    </div>
                    <div class="jugadoras-grid" id="asistenciaMiercolesGrid"></div>
                    <div class="paso-actions">
                        <button id="volverLunes" class="btn-anterior">Volver a Lunes</button>
                        <button id="siguienteMiercoles" class="btn-siguiente">Continuar a SÃ¡bado</button>
                    </div>
                </div>

                <!-- Paso 3: Partido SÃ¡bado -->
                <div id="pasoSabado" class="jornada-paso">
                    <div class="paso-header">
                        <h4 id="tituloSabado">ğŸ Partido SÃ¡bado</h4>
                        <p>Selecciona quiÃ©nes van a ir al partido y planifica la rotaciÃ³n</p>
                    </div>

                    <div class="jugadoras-grid" id="asistenciaSabadoGrid"></div>
                    
                    <!-- Contenedor principal para la planificaciÃ³n inteligente -->
                    <div id="configuracionPartido" class="configuracion-partido">
                        <!-- La planificaciÃ³n se genera automÃ¡ticamente aquÃ­ -->
                    </div>
                    
                    <div class="paso-actions">
                        <button id="volverMiercoles" class="btn-anterior">Volver a MiÃ©rcoles</button>
                        <button id="guardarBorrador" class="btn-guardar-borrador">ğŸ’¾ Guardar Borrador</button>
                        <button id="completarJornada" class="btn-completar">âœ… Completar Jornada</button>
                    </div>
                </div>
            </div>

            <div id="listaJornadas"></div>
            <!-- Div necesario para la lista de setup -->
            <div id="listaSetup" style="display:none;"></div>

            <!-- Planificador de sets independiente -->
            <div id="planificadorSets" class="planificador-sets" style="display: none;">
                <!-- Contenido del planificador -->
            </div>
        </div>

        <!-- Contenido de Equipo -->
        <div id="jugadoras" class="tab-content">
            <div class="section-header">
                <h3>ğŸ‘¥ GestiÃ³n del Equipo</h3>
                <div class="equipo-actions">
                    <button id="addJugadora" class="btn-add">+ AÃ±adir Jugador/a</button>
                    <button id="recalcularEstadisticas" class="btn-recalcular">ğŸ“Š Recalcular EstadÃ­sticas</button>
                </div>
            </div>
            
            <div id="formJugadora" class="form-jugadora" style="display: none;">
                <h4>AÃ±adir Jugador/a</h4>
                <div class="form-row">
                    <input type="text" id="nombreJugadora" placeholder="Nombre">
                    <input type="number" id="dorsalJugadora" placeholder="Dorsal" min="1" max="99">
                    <select id="posicionJugadora">
                        <option value="jugadora">Jugador/a (Rematador/a por 4)</option>
                        <option value="colocadora">Colocador/a</option>
                        <option value="central">Central</option>
                        <option value="opuesta">Opuesto/a (Rematador/a por 2)</option>
                    </select>
                        <button id="guardarJugadora" class="btn-save" type="button">Guardar</button>
                        <button id="cancelarJugadora" class="btn-cancel" type="button">Cancelar</button>
                </div>
            </div>

            <div id="listaJugadoras" class="lista-equipo"></div>
        </div>

        <!-- Contenido de Historial -->
        <div id="historial" class="tab-content">
            <div class="filtros-historial">
                <div class="info-filtros">
                    <h4>ğŸ” Filtros de BÃºsqueda</h4>
                    <p>Filtra las jornadas por mes o por jugadora especÃ­fica</p>
                </div>
                
                <div class="filtros-row">
                    <div class="filtro-item">
                        <label>Filtrar por mes:</label>
                        <select id="filtroMes">
                            <option value="">Todos los meses</option>
                        </select>
                    </div>
                    
                    <div class="filtro-item">
                        <label>Filtrar por jugador/a:</label>
                        <select id="filtroJugadora">
                            <option value="">Todos/as</option>
                        </select>
                    </div>
                    
                    <div class="filtro-acciones">
                        <button id="filtrarHistorial" class="btn-aplicar">ğŸ” Filtrar</button>
                        <button id="limpiarFiltro" class="btn-limpiar">ğŸ—‘ï¸ Limpiar</button>
                        <button id="exportarDatos" class="btn-exportar">ğŸ“¥ Exportar Datos</button>
                        <button id="importarDatos" class="btn-importar">ğŸ“¤ Importar Datos</button>
                        <button id="eliminarSeleccionadas" class="btn-eliminar">ğŸ—‘ï¸ Eliminar Seleccionados</button>
                        <input type="file" id="archivoImportar" accept=".json" style="display: none;">
                    </div>
                </div>
            </div>
            
            <div id="listaHistorial"></div>
        </div>

        <!-- Contenido de AdministraciÃ³n -->
        <div id="admin" class="tab-content">
            <div class="admin-container">
                <div class="admin-header">
                    <h3>âš™ï¸ Panel de AdministraciÃ³n</h3>
                    <div class="admin-info">
                        <span id="current-user-info"></span>
                        <button id="logout-btn" class="btn-logout">ğŸšª Cerrar SesiÃ³n</button>
                    </div>
                </div>

                <!-- GestiÃ³n de Usuarios Predefinidos -->
                <div class="admin-section">
                    <h4>ğŸ‘¥ GestiÃ³n de Usuarios del Sistema</h4>
                    <p style="color: #666; margin-bottom: 15px;">
                        âš™ï¸ Administra los usuarios que podrÃ¡n acceder al sistema.
                    </p>
                    
                    <div class="admin-card">
                        <h5>Usuarios del Sistema</h5>
                        <div id="system-users-editor">
                            <!-- Se llenarÃ¡ dinÃ¡micamente -->
                        </div>
                        <div style="margin-top: 20px; display: flex; gap: 10px; flex-wrap: wrap;">
                            <button id="add-system-user-btn" class="btn-create-user">â• Agregar Usuario</button>
                            <button id="save-system-users-btn" class="btn-system" style="background: #28a745; color: white;">ğŸ’¾ Guardar Cambios</button>
                            <button id="load-current-users-btn" class="btn-system" style="background: #17a2b8; color: white;">ğŸ”„ Recargar</button>
                        </div>
                    </div>

                <!-- GestiÃ³n de Sistema -->
                <div class="admin-section">
                    <h4>ğŸ”§ GestiÃ³n del Sistema</h4>
                    
                    <div class="admin-card">
                        <h5>Opciones de Sistema</h5>
                        <div class="system-actions">
                            <button id="backup-data-btn" class="btn-system">ğŸ’¾ Respaldar Datos</button>
                            <button id="clear-data-btn" class="btn-system btn-danger">ğŸ—‘ï¸ Limpiar Datos</button>
                            <button id="reset-users-btn" class="btn-system btn-danger">ğŸ‘¥ Resetear Usuarios</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>

    </div>

    <!-- Modal para editar jugadora -->
    <div id="modalEditarJugadora" class="modal-sustitucion" style="display: none;">
        <div class="modal-content">
            <h4>âœï¸ Editar Jugador/a</h4>
            <div class="sustitucion-form">
                <div class="form-group">
                    <label>Nombre:</label>
                    <input type="text" id="editNombre" placeholder="Nombre de la jugadora">
                </div>
                <div class="form-group">
                    <label>Dorsal:</label>
                    <input type="number" id="editDorsal" placeholder="NÃºmero del dorsal" min="1" max="99">
                </div>
                <div class="form-group">
                    <label>Rol/PosiciÃ³n:</label>
                    <select id="editPosicion">
                        <option value="jugadora">Jugadora</option>
                        <option value="colocadora">Colocadora</option>
                        <option value="central">Central</option>
                        <option value="libero">LÃ­bero</option>
                        <option value="opuesta">Opuesta</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button id="confirmarEdicion" class="btn-confirmar">ğŸ’¾ Guardar</button>
                    <button id="cancelarEdicion" class="btn-cancelar">âŒ Cancelar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para sustituciones -->
    <div id="modalSustitucion" class="modal-sustitucion" style="display: none;">
        <div class="modal-content">
            <h4>AÃ±adir SustituciÃ³n</h4>
            <div class="sustitucion-form">
                <div class="form-group">
                    <label>Sale:</label>
                    <select id="jugadoraSale">
                        <option value="">Seleccionar...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Entra:</label>
                    <select id="jugadoraEntra">
                        <option value="">Seleccionar...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Punto del cambio:</label>
                    <input type="text" id="puntoCambio" placeholder="ej: 12-5, 3-8, etc.">
                </div>
                <div class="modal-actions">
                    <button id="confirmarSustitucion" class="btn-confirmar">âœ… Confirmar</button>
                    <button id="cancelarSustitucion" class="btn-cancelar">âŒ Cancelar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para editar usuario -->
    <div id="edit-user-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h4>âœï¸ Editar Usuario</h4>
                <button type="button" class="modal-close" id="close-edit-user">&times;</button>
            </div>
            <form id="edit-user-form">
                <div class="form-section">
                    <h5>ğŸ“ InformaciÃ³n del Usuario</h5>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-user-username">ğŸ‘¤ Usuario:</label>
                            <input type="text" id="edit-user-username" placeholder="Nombre de usuario" required>
                        </div>
                        <div class="form-group">
                            <label for="edit-user-name">ğŸ“‹ Nombre completo:</label>
                            <input type="text" id="edit-user-name" placeholder="Nombre y apellido" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="edit-user-password">ğŸ”‘ Nueva ContraseÃ±a:</label>
                            <input type="password" id="edit-user-password" placeholder="Nueva contraseÃ±a (mÃ­n. 4 caracteres)">
                            <small class="form-help">Dejar vacÃ­o para mantener la contraseÃ±a actual</small>
                        </div>
                        <div class="form-group">
                            <label for="edit-user-type">ğŸ­ Tipo de Usuario:</label>
                            <select id="edit-user-type">
                                <option value="false">Usuario Normal</option>
                                <option value="true">Administrador</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="modal-actions">
                    <button type="submit" class="btn-confirmar">ğŸ’¾ Guardar Cambios</button>
                    <button type="button" id="cancel-edit-user" class="btn-cancelar">âŒ Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de confirmaciÃ³n mejorado -->
    <div id="confirm-modal" class="modal" style="display: none;">
        <div class="modal-content confirm-modal-content">
            <div class="confirm-header">
                <div class="confirm-icon">âš ï¸</div>
                <h4 id="confirm-title">Confirmar AcciÃ³n</h4>
            </div>
            <div class="confirm-body">
                <p id="confirm-message"></p>
            </div>
            <div class="confirm-actions">
                <button id="confirm-yes" class="btn-confirm-yes">âœ… Confirmar</button>
                <button id="confirm-no" class="btn-confirm-no">âŒ Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal para seleccionar jugadora -->
    <div id="modal-seleccion-jugadora" class="modal" style="display: none;">
        <div class="modal-content modal-seleccion-content">
            <div class="modal-header">
                <h4 id="titulo-seleccion-jugadora">Seleccionar Jugador/a</h4>
                <button class="btn-cerrar-modal" onclick="app.cerrarModalSeleccion()">âœ•</button>
            </div>
            <div class="modal-body">
                <div id="lista-jugadoras-modal" class="lista-jugadoras-modal">
                    <!-- Se genera dinÃ¡micamente -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para gestionar ubicaciones y rivales -->
    <div id="modal-gestion-datos" class="modal" style="display: none;">
        <div class="modal-content modal-gestion-datos-content">
            <div class="modal-header">
                <h4>âš™ï¸ Gestionar Ubicaciones y Rivales</h4>
                <button class="btn-cerrar-modal" id="btnCerrarModalGestion">âœ•</button>
            </div>
            <div class="modal-body">
                <div class="gestion-seccion">
                    <h5>ğŸ  ConfiguraciÃ³n de Casa</h5>
                    <div id="seccion-polideportivo-casa">
                        <!-- Se genera dinÃ¡micamente -->
                    </div>
                </div>
                <div class="gestion-seccion">
                    <h5>ğŸ“ Ubicaciones Guardadas</h5>
                    <div id="lista-ubicaciones" class="lista-gestion-datos">
                        <!-- Se genera dinÃ¡micamente -->
                    </div>
                </div>
                <div class="gestion-seccion">
                    <h5>ğŸ Rivales Guardados</h5>
                    <div id="lista-rivales" class="lista-gestion-datos">
                        <!-- Se genera dinÃ¡micamente -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para EstadÃ­sticas y Comentarios -->
    <div id="modal-estadisticas-jornada" class="modal" style="display: none;">
        <div class="modal-content modal-estadisticas-content">
            <div class="modal-header">
                <h4>ğŸ“Š Resultados y Notas del Partido</h4>
                <button class="btn-cerrar-modal" id="btnCerrarModalEstadisticas">âœ•</button>
            </div>
            <div class="modal-body">
                <!-- Resultado del partido -->
                <div class="stats-seccion">
                    <h5>ğŸ Resultado del Partido</h5>
                    <div class="resultado-partido">
                        <div class="sets-resultado">
                            <label>Sets Ganados:</label>
                            <select id="setsGanados">
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3" selected>3</option>
                            </select>
                        </div>
                        <div class="sets-resultado">
                            <label>Sets Perdidos:</label>
                            <select id="setsPerdidos">
                                <option value="0" selected>0</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                            </select>
                        </div>
                    </div>
                    <div class="puntos-totales">
                        <label>Puntos Totales Anotados:</label>
                        <input type="number" id="puntosTotales" min="0" placeholder="Ej: 75" value="0">
                    </div>
                </div>

                <!-- Errores (Opcional) -->
                <div class="stats-seccion">
                    <h5>âš ï¸ Errores (Opcional)</h5>
                    <div class="errores-grid">
                        <div class="error-contador">
                            <label>Errores de Saque:</label>
                            <div class="contador-botones">
                                <button type="button" class="btn-contador" onclick="app.cambiarContador('erroresSaque', -1)">-</button>
                                <input type="number" id="erroresSaque" value="0" min="0" readonly>
                                <button type="button" class="btn-contador" onclick="app.cambiarContador('erroresSaque', 1)">+</button>
                            </div>
                        </div>
                        <div class="error-contador">
                            <label>Errores de RecepciÃ³n:</label>
                            <div class="contador-botones">
                                <button type="button" class="btn-contador" onclick="app.cambiarContador('erroresRecepcion', -1)">-</button>
                                <input type="number" id="erroresRecepcion" value="0" min="0" readonly>
                                <button type="button" class="btn-contador" onclick="app.cambiarContador('erroresRecepcion', 1)">+</button>
                            </div>
                        </div>
                        <div class="error-contador">
                            <label>Errores de Ataque:</label>
                            <div class="contador-botones">
                                <button type="button" class="btn-contador" onclick="app.cambiarContador('erroresAtaque', -1)">-</button>
                                <input type="number" id="erroresAtaque" value="0" min="0" readonly>
                                <button type="button" class="btn-contador" onclick="app.cambiarContador('erroresAtaque', 1)">+</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notas/Comentarios -->
                <div class="stats-seccion">
                    <h5>ğŸ“ Notas y Comentarios</h5>
                    <textarea id="notasPartido" rows="6" placeholder="Escribe aquÃ­ tus notas pre-partido y post-partido...&#10;&#10;Ejemplos:&#10;- Pre: El rival hace muchas fintas, #4 remata muy fuerte&#10;- Post: FuncionÃ³ bien la rotaciÃ³n 2, mejorar defensa en zona 1"></textarea>
                </div>

                <div class="modal-actions">
                    <button id="guardarEstadisticas" class="btn-confirmar">ğŸ’¾ Guardar</button>
                    <button id="cancelarEstadisticas" class="btn-cancelar">âŒ Cancelar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Auto-Balance ConfiguraciÃ³n -->
    <div id="modal-autobalance" class="modal-sustitucion" style="display: none;">
        <div class="modal-autobalance-content">
            <h4>âš–ï¸ ConfiguraciÃ³n Auto-Balance</h4>
            <p style="color: #7f8c8d; margin-bottom: 20px;">
                El sistema completarÃ¡ automÃ¡ticamente los 3 sets siguiendo las reglas de voleibol
            </p>

            <div class="autobalance-config">
                <div class="config-section">
                    <h5>ğŸ¯ PosiciÃ³n de Colocador/a en Set 1</h5>
                    <p class="config-hint">Haz clic en la posiciÃ³n donde quieres que inicie el/la colocador/a</p>
                    
                    <!-- Campo de voleibol visual -->
                    <div class="campo-voleibol-selector">
                        <div class="fila-campo fila-delantera">
                            <div class="posicion-volei" data-pos="4">
                                <span class="numero-pos">4</span>
                            </div>
                            <div class="posicion-volei" data-pos="3">
                                <span class="numero-pos">3</span>
                            </div>
                            <div class="posicion-volei" data-pos="2">
                                <span class="numero-pos">2</span>
                            </div>
                        </div>
                        <div class="fila-campo fila-zaguera">
                            <div class="posicion-volei" data-pos="5">
                                <span class="numero-pos">5</span>
                            </div>
                            <div class="posicion-volei" data-pos="6">
                                <span class="numero-pos">6</span>
                            </div>
                            <div class="posicion-volei" data-pos="1">
                                <span class="numero-pos">1</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="config-section" style="margin-top: 25px;">
                    <h5>ğŸ”„ Opciones Adicionales</h5>
                    <label class="checkbox-option">
                        <input type="checkbox" id="priorizarEntrenamientos" checked>
                        <span>Priorizar jugadores/as con mÃ¡s entrenamientos</span>
                    </label>
                    <label class="checkbox-option">
                        <input type="checkbox" id="balancearPuntos" checked>
                        <span>Balancear puntos de las Ãºltimas 3 jornadas</span>
                    </label>
                </div>
            </div>

            <div class="modal-actions" style="margin-top: 25px;">
                <button id="btnConfirmarAutoBalance" class="btn-confirmar">âœ… Generar Auto-Balance</button>
                <button id="btnCancelarAutoBalance" class="btn-cancelar">âŒ Cancelar</button>
            </div>
        </div>
    </div>

    <script src="auth.js"></script>
    <script src="api-utils.js"></script>
    <script src="app.js?v=2025102036"></script>
</body>
</html>
